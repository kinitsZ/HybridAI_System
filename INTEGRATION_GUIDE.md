# Hybrid AI System Integration Guide

## System Architecture

This project implements a **Hybrid Intelligent System** combining:

1. **Python ML Component** (Machine Learning)
   - Predicts faculty stress levels (Low/Medium/High) based on workload factors
   - Uses Random Forest classifier trained on faculty workload dataset
   - Located in: `CS18A-FINALPROJECT/`

2. **Visual Prolog Expert System** (Rule-Based Reasoning)
   - Generates personalized wellness recommendations using expert rules
   - Reads stress level predictions from Python ML component
   - Located in: `Wellness_expert/` (parent directory)

## How the Integration Works

### Data Flow:
```
Python ML Component → stress_output.txt → Visual Prolog Expert System
```

1. **Python ML Component** predicts stress level and writes to `stress_output.txt`
2. **Visual Prolog Expert System** reads `stress_output.txt` and generates recommendations

### File Format:
The `stress_output.txt` file contains:
```
faculty_id:F009
stress_level:high
```

## Running the Complete System

### Option 1: Run Python First, Then Visual Prolog

1. **Run Python ML Component:**
   ```bash
   cd CS18A-FINALPROJECT
   python main.py
   ```
   - Select option 1 or 2 to make a prediction
   - The system will generate `stress_output.txt` in both:
     - `CS18A-FINALPROJECT/stress_output.txt` (for Python expert system)
     - `../stress_output.txt` (for Visual Prolog)

2. **Run Visual Prolog Expert System:**
   - Build and run `Wellness_expert.exe` from Visual Prolog IDE
   - Or run: `exe64\Wellness_expert.exe`
   - The system will read `stress_output.txt` and display recommendations

### Option 2: Use Python's Integrated System

The Python `main.py` includes both components:
```bash
cd CS18A-FINALPROJECT
python main.py
```
- This runs both ML prediction AND Python expert system
- For Visual Prolog integration, still use Option 1

## Files Structure

```
Wellness_expert/
├── CS18A-FINALPROJECT/          # Python ML Component
│   ├── main.py                  # Main integration script
│   ├── stress_predictor.py      # ML model for stress prediction
│   ├── wellness_expert_python.py # Python expert system (reference)
│   ├── dataset.csv              # Faculty workload dataset
│   ├── dataset_with_labels.csv  # Dataset with stress labels
│   ├── stress_model.joblib      # Trained ML model
│   └── stress_output.txt        # Output file (generated)
│
├── wellness.pro                  # Visual Prolog class declaration
├── wellness.cl                   # Visual Prolog expert system implementation
├── main.pro                      # Visual Prolog main class
├── main.cl                       # Visual Prolog main implementation
└── stress_output.txt              # Input file for Visual Prolog (generated by Python)
```

## Testing the Integration

### Test Scenario 1: Complete Workflow
1. Run Python ML: `python CS18A-FINALPROJECT/main.py`
2. Enter faculty data or select from dataset
3. Python generates `stress_output.txt`
4. Run Visual Prolog: `exe64\Wellness_expert.exe`
5. Visual Prolog reads file and displays recommendations

### Test Scenario 2: Manual Testing
1. Manually create `stress_output.txt` in root directory:
   ```
   faculty_id:F001
   stress_level:low
   ```
2. Run Visual Prolog system
3. System reads file and generates recommendations

## Key Features Demonstrated

### Machine Learning Component (Python):
- ✅ Data-driven learning from faculty workload dataset
- ✅ Random Forest classifier for stress prediction
- ✅ Feature importance analysis
- ✅ Model evaluation metrics

### Expert System Component (Visual Prolog):
- ✅ Rule-based reasoning with knowledge base
- ✅ Symbolic reasoning using Prolog facts and rules
- ✅ Personalized recommendations based on stress level
- ✅ Multiple indicator categories (sleep, workload, wellness, etc.)

### Hybrid Integration:
- ✅ ML prediction feeds into expert system
- ✅ Data-driven + knowledge-based reasoning
- ✅ Unified AI solution combining both paradigms

## Troubleshooting

**Issue:** Visual Prolog can't find `stress_output.txt`
- **Solution:** Ensure Python writes to parent directory (already implemented)
- Check that file exists in `Wellness_expert/stress_output.txt`

**Issue:** Stress level format mismatch
- **Solution:** Python writes lowercase (low/medium/high), Visual Prolog handles this correctly

**Issue:** Model not found
- **Solution:** Run Python once to train and save model (`stress_model.joblib`)

## Next Steps

1. Run Python ML component to generate predictions
2. Run Visual Prolog expert system to see recommendations
3. Compare Python expert system output with Visual Prolog output
4. Document any differences or improvements needed

